---
title: 10분 정규 표현식
date : 2021-01-10
categories : review
---

# 손에 잡히는 10분 정규 표현식

## 1장 정규 표현식 소개
직관 적이지 않지만 간단한 문제를 풀때 코드를 줄일 수 있다.

> 정규 표현식은 어디에 사용하는가?
- 검색
- 치환

---

## 2장 문자 하나 찾기

**1.문자 그대로 찾기**

문장 자체도 정규식이라고 볼수 있다

> 예문  

hello, my name is Ben. please visit ...
> Regex

Ben
> 결과

hello, my name is  __Ben__. please visit ...

> 추가

자바스크립트에서는 일치된 결과물을 모두 담은 배열을 반환하고자 할때, `g`(Global:전역) 플레그를 사용한다.



__2.모든 문자 찾기__

마침표(.)는 어떠한 문자나 알파벳, 숫자, 문장 부호로 쓰인 마침표(.)차체와도 일치한다.

> 예문  
 
saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls   
na1.xls   
na2.xls   
na3.xls   

> Regex

sales.
> 결과

__sales1__.xls   
orders3.xls   
__sales3__.xls   
apac1.xls   
europe2.xls   
na1.xls   
na2.xls   
na3.xls

>분석

여기서 사용한 sales.라는 정규 표현식은 sales로 시작하고, sales 바로 뒤에 아무문자가 하나 더 붙는 파일명을 모두 찾는다.

마침표(.)는 어떠한 문자나 알파벳, 숫자, 심지어 문장 부호로 쓰인 마침표(.)자체와도 일치한다.


.a. 다음에 바로 마침표가 따라오는 문자열과 일치시키려면 어떨게 해야할까?

__특수문자 찾기__

마침표(.)는 정규 표현식에서 특별한 의마가 있다. 따라서 여러분이 마침표(.)를 찾으려고 한다면, 정규 표현식에세 특별한 의미의 마침표(.)가 아니라 지짜 마침표(.)를 찾고 싶다고 알려 줘야 한다. 그러려면 마침효(.)앞에 역슬레시(\\)를 문자를 붙이면 된다. 역슬래시(\\)는 __메타 문자__(일반적으로 문자 그대로 사용되지 않고 특별한 의미를 지니는 문자를 칭한다)다. 따라서 마침표(.)는 모든 문자와 일치하디만, \\.는 마침표(/)문자 자체와 일치한다는 의미다.

> 예문

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls   
na1.xls   
na2.xls   
na3.xls   

> Regex

.a.\\.

> 결과

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls   
__na1.__xls   
__na2.__xls   
__na3.__xls  

> 분석

.a.\\.로 해결되었다. 첫 번째 마침표(.)는 n 혹은 s와 일치하였다. 두 번째 마침표(.)는 1 혹은 2와 일치하였으며, \\.는 파일명과 확장자를 구분하는 마침표(.)와 일치하였다.

`역슬레시 자체를 찾고 싶을 경우 \\\이라고 쓴다.`

---

## 3장 문자 집합으로 찾기

문자집합을 사용하면 특정 문자들과 문자 번위를 일치시킬 수 있다.

__여러 문자 중 하나와 일치시키기__

마침표(.)는 어떤 문자든지 문자 하나와 일치한다. 하지만 만약 이전 예제에서 `cal1.xls` 를 제외한 , 
`na`와 `sa` 만을 찾고 싶을 때는 어떨게 할 것인가?

> 예문

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls   
na1.xls   
na2.xls   
na3.xls 
ca3.xls   

> Regex

[ns]a.\\.xls

> 결과

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls   
__na1.xls__   
__na2.xls__   
__na3.xls__   
ca3.xls  

> 분석

정규 표혁인시 [ns] 로 시작한다. 이 패턴은 ns이나 s 중 한 문자와 일치하며, c나 다른 문자와는 일치하지 않는다. 대괄호([])는 집합을 의미하므로 대괄호 자체는 어떤 문자와도 일치하지 않는다. 문자 a는  a와 일치하고 마침표(.)는 모든 문자와 일치한다.

문자 집합은 흔희 대소문자를 구별하지 않고 검색하거나 검색할 부분의 특정 영역만 대소문자를 구별하지 않을 때 사용한다.

> 예문

The parase "regulas expression" is often  
abbreviated as Regex or regex

> Regex

[Rr]eg[Ee]x

> 결과

The parase "regulas expression" is often  
abbreviated as __Regex__ or __regex__

> 분석

여기서 사용한 패턴에는 문자 집합이 두 개 있가. [Tr]은 R이나 r과 일치하고, [Ee]는 E나 e와 일치한다. 이런 식으로 `Regex`와 `regex` 둘 다 일치시킬 수 있다. 하디만 REGEX와는 일치하지 않는다.

__문자 집합 범위 사용하기__

마지막으로 사용한 패턴 [ns]a.\\.xls 에는 또 다른 문제가 있다. 만약 `sam.xls` 라는 파일이 있다면, 어떻게 할 것인가?
문자 집합을 사용해 이 문제를 해결할 수 있다.

> 예문

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls   
na1.xls   
na2.xls   
na3.xls 
ca3.xls  

> Regex

[ns]a[0123456789]\\.xls

> 결과

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls   
sam.xml   
__na1.xls__   
__na2.xls__   
__na3.xls__  
ca3.xls  

> 분석

이번에 수정한 정규 표현식에서는 첫 글자가 n이나 s와 일치하고, 두 번째 글자는 a, 세 번째 글자는 숫자([0123456789]에 소한 숫자)와 일치한다. sam.xls는 일치하지 않았다는 점을 확인하자.
아래는 하이픈을 통한 범위를 설정하여, 같은 결과를 표현한다.


> 예문

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls  
sam.xml     
na1.xls   
na2.xls   
na3.xls 
ca3.xls  

> Regex

[ns]a[0-9]\\.xls

> 결과

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls   
sam.xml   
__na1.xls__   
__na2.xls__   
__na3.xls__  
ca3.xls  

> 분석

범위를 단지 숫자에만 쓸 수 있는 것은 아니다. 다음과 같은 범위에서도 모두 사용할 수 있다.

- A-Z는 A부터 Z사이에 있는 모든 대문자와 일치한다
- a-z는 a부터 z사이에 있는 모든 소문자와 일치한다
- A-z는 아스키 문자 A와 아스키 문자 z 사이에 있는 모든 문자와 일치한다.(이 패턴은 비추천한다. Z와 a 사이에는 대괄호나([) 캐럿(^)도 포함되기 때문이다.)

아래의 예는 RGB 값을 찾는 방법이다

> 예문

body{  
    background-color : #fefbd8;  
}  
h1{  
    background-color : #fefbd8;  
}  

> Regex

\#[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]

> 결과


body{  
    background-color : __#fefbd8__;  
}  
h1{  
    background-color : __#fefbd8__;  
}  

> 분석

여기서 사용한 패턴에서는 샵(#) 문자가 문자 그대로 일치하고, [0-9A-Fa-f] 문자 집합이 여섯 번 반복된다.
이 패턴은 숫자나 A와 F사이의 문자이며, 대소문자를 구별하지 않는다.

__'제외하고' 찾기__

멸 개만 빼고 대부분의 문자를 포함해야 할 경우에는 패턴이 너무 실어지므로 원하는 문자를 모두 나열하기보다는 캐럿(^) 문자를 써 제외할 문자 집합을 지정한다.

> 예문

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls  
sam.xml     
na1.xls   
na2.xls   
na3.xls 
ca3.xls  

> Regex

[ns]a[^0-9]\\.xls

> 결과

saled1.xls   
orders3.xls   
sales3.xls   
apac1.xls   
europe2.xls  
__sam.xml__     
na1.xls   
na2.xls   
na3.xls 
ca3.xls  

> 분석

[0-9]는 모든 숫자와 일치한다 [^0-9]는 정해징 범위 내에 있는 수자와 일치하지 않는다.   
즉, [ns]a[^0-9]\\.xls는 na1.xls, na2.xls, na3.xls 와는 일치하지 않고, sam.xls와 일치한다.

---
## 4장 메타 문자 사용하기

_이스케이프 다시 살펴보기__

메타 문자는 정규 표션식 안에서 특별한 의미가 있다. 마침표(.)는 메타 문자로, 어떤 문자든 문자 하나와 일치한다. 이와 유사하게, 여는 대괄호([)도 집합의 시작을 나타내는 메타 문자다

메타 문자들은 정규 표현식에서 특별한 의미가 있으므로 자기 자신을 문자 그대로 표현할 수 없다. 여는 대괄호([)가 여는 대괄호([))와 일치하지 않는다는 의미다.

다음 예제를 보자. 이 정규 표현식에서는 여는 대괄호([)와 단는 대괄호(])를 포함하는 자바스크리ㅂ트 배열을 찾으려 한다.

> 예문

var myArray = new Array();  
...  
if(myArray[0] == 0){}  
...  

> Regex

myArray\\[0\\]

> 결과

var myArray = new Array();  
...  
if(__myArray[0]__ == 0){}  
...  

> 분석

이이 예제에서 쓴 정규 표현식은 다소 불필요해 보인다. 단순한 텍스트 검색만으로도 충분희 만족스러운 결과를 더 쉽게 얻을 수 있다. 하지만 단순히 myArray[0]뿐만 아니라 myArray[1] 과 같은 배열도 찾으려면 어떻게 해야 할지 상상해 보자. 이때는 정규 표현식을 사용하는 편이 더 유용하다. 여는 대괄호([)와 닫는 대괄호(])는 이스케이프 하고 두 문자 사이에 원하는 문자들이 일치하도록 조건을 정하면 된다. 만약 배열 요소를 0부터 9까지 일치시키고 싶다면 다음과 같이 정규 표현식을 작성할 수도 있다.

myArray\\[[0-9]\\]

역슬레시(\\)는 메타 문자들을 이스케이프 하는 데 사용된디. 이 말은 열슬레시(\\)도 메타 문자이며, 다른 메타 문자들을 이스케이프 하는데 사용된다는 뜻이다. 
 다음에 나온 간단한 예제에선 윈도우에서 볼 수 있는 역슬래시(\\)를 이용한 파일 경로다. 이 경로를 리눅스에서 사용한다는 가정하에 모든 역슬래시를 찾아 슬래시로 변경해 보자

> 예문

\home\ben\sales\

> Regex

\\\

> 결과

__\\__ home __\\__ ben __\\__ sales __\\__

> 분석

전규 표현식에 역슬래시(\\)만을 사용했다면, 아마 에러가 발생했을 것이다. 정규 표현식 분석기가 정규표현식을 다 작성하지 않았다고 판단하기 때문이다. 그러니 정규 표현식에서는 역슬래시(\\)위에 반드시 다른 문자를 함께 써넣어야 한다.

__공백 문자 찾기__

메타 문자는 일반적으로 두 가지 범주로 나뉜다. 마침표(.)처럼 텍스트와 와 일치하는 문자와 여는 대괄호([)나 닫는 대괄호(])처럼 정규 표현식문법의 일부로 쓰는 문자다. 이제 공백 문자를 살펴보면서 두 가지 유형의 메타 문자들을 더 많이 접할 것이다. 우선 공백 메타 문자부터 시작 해 보자.

 정규 표현식 검색을 수행할 때, 여러분은 눈에 보이지 않지만 텍스트에 포함되는 공백 문자를 찾아야 할 때가 있을 것이다. 꼼수를 이용하지 않고 이런 문자를 정슈 표현식에 직접 써넣기는 어려우므로 아래ㅠㅛ와 같은 특수한 메타 문자들을 사용할 수 있다.

 |메타 문자 | 설명|
 |:--|:--|
 |\[\\b\]|백 스페이스|
 |\\f|페이지 넘김(form feed)|
 |\\n|줄바꿈|
 |\\r|캐리지 리턴|
 |\\t|텝|
 |\\v|수직 텝|

 다음 예제를 보자. 여기에 나오는 예문에는 콤마로 구분된(일반적으로 CSV라고 부른다) 레코드가 담겨 있다. 여러분은 게디어터에 있는 빈 줄을 모두 제거한 다음, 이 레코드를 처리해야한다.

 > 예문

"101","Ben","forta"  
"102","Jim","James"  

"103","Robert","Bet"  

> Regex

\\r\\n\\r\\n

> 결과

"101","Ben","forta"  
"102","Jim","James"  
 
"103","Robert","Bet"  

> 분석

\\r\\n은 줄바꿈과 캐리지 리턴의 조합과 일치한다. 윈도우에서 이 조합은 줄의 끝을 나타내는 데 사용된다.
따라서 \\r\\n\\r\\n을 검색하면, 줄 씉이 연속해서 두 번 나오는 부분과 일치하는데, 이때 줄의 끝이 두번 나온다는 것은 바로 두 레코드 사이에 빈 줄이 있음을 의미한다.

__특정한 문자 형태와 일치시키기__

자주 쓰는 문자 집합들은 특수한 메타 문자로 대신하기도 한다. 이런 메타 문자들을 __문자 클래스__ 라고 부른다. 직접 찾고 싶은 문자들을 열거하거나 범위를 사용하면 되기 때문에, 실제로 클래스 메타 문자를 써야만 하는 경우는 결코 없지만, 일단 사용해 보면 너무나도 유용함을 알게 된다.

__숫자와 숫자가 아닌 문자 찾기__

|메타 문자| 설명|
|:--|:--|
|\\d| 숫자 하나([0-9])와 같다|
|\\D| 숫자를 제외한 문자 하나([^0-9])와 같다.|
 
앞선 예문를 수정하여 이 메타문자를 어떻게 쓰는지 확인해보자

> 예문

var myArray = new Array();  
...  
if(myArray[0] == 0){}  
...  

> Regex

myArray\\[\\d\\]

> 결과

var myArray = new Array();  
...  
if(__myArray[0]__ == 0){}  
...  

> 분석

이 정규 표현직은 myArray[1] 과는 일치하지만  myArray[10] 과는 일치하지 않는다.

__영숫자 문자와 영숫자가 아닌 문자 찾기

자주 사용하는 문자 집합이 또 있다. 영숫자 무자로, 대소문자와 소문자를 포함한 알파벳 A부터 Z, 숫자, 밑줄(대개 파일이나 디렉터리 이름, 애플리케리션 변수명, 데이터베이스 객체 이름 등에 사용한다.)을 포함한다.

|메타 문자| 설명|
|:--|:--|
|\\w|대소문자와 밑줄을 포함하는 모든 영숫자[a-zA-Z0-9]와 같다.|
|\\W|대소문자와 밑줄을 아닌 모든 영숫자[^a-zA-Z0-9]와 같다.|

> 예문

12313  
A1C2E3  
480787  
48907  
H1B4F2  
908700  
H1H2H3  

> Regex

\w\d\w\d\w\d

> 결과

12313  
__A1C2E3__  
480787  
48907  
__H1B4F2__  
908700  
__H1H2H3__  

> 분석 

여기서는 메타 문자 \\w와 \\d를 조합한 패턴을 사용했는데, 캐나다 우편번호만을 찾아낸다

__공백 문자와 공백이 아닌 문자 찾기

마지막으로 살펴볼 분류는 공백 클래스다.

|메타 문자| 설명|
|:--|:--|
|\\s|모든 공백 문자([\\f\\n\\r\\t\\v])와 같다.|
|\\S|공백 문자가 아닌 모든 문자([^\\f\\n\\r\\t\\v])와 같다.|

__16진수나 8진수 표현하기__

__16진수 사용하기__

16진수 같은 앞에 \\x를 붙여 표시한다. 즉, \\x0A는 줄바꿈 문자가 되며 \\n과 기능이 같다.

__8진수 사용하기__

8진수 같은 두 자리나 세 자리 정수 앞에 \\0을 붙여 표시한다. 즉, \\011은 탭 문자이며, \\t와 기능이 같다

__포직스 문자 클래스 사용하기__

포직스 문자 클래스는 줄여 쓰기를 나타내는 또 다른 형태인데, 전부는 아니지만 많은 정규 표현식 구현에서 지원한다.

_자바스크립트는 정규 표현식에서 포직스 문자 클래스를 지원하지 않는다._

[정규표현식](https://www.nextree.co.kr/p4327/)

## 5장 반복찾기

이 장에서는 여러 번 반복해 나타나는 문자나 문자 집합을 어떨게 팢는지 알아본다.

__몇 번 일치하는가?__

이메일 주소와 일치하는 정규 표현직을 작성한다고 생각해 보자. 이메일 주소의 기본 형식은 다음과 같다.

text@text.text

4장에서 배운 메타 문자를 사용해 다음롸 같은 정규 표현식을 만들 수 있다.

\\w@\\w\\.\\w

\\w 문자는 모든 영숫자 문자와 일치한다. 더불어 밑줄도 함께 찾는데, 밑줄 역시 이메일 주소에서 사용하는 문자다. 앳(@)은 이스케이프 하지 않아도 되지만, 마침표(.)는 이스케이프 해야한다.

이 패턴은 문법에 완벽하게 맞는 정규 표현식이긴 하지만 쓸모 없다. 이 패턴으로는  a@b.v 같은 이메일 주소만 찾을 수 있다. 문법은 맞지만, 분명히 유효한 메일 주소는 아니다. 문제는 \\w는 문자 하나하고만 일치하는데, 얼마나 많은 문자를 검사해야 할지 모른다는 점이다. 다음 이메일 주소들은 모두 유효하지만, @ 문자 앞에 나온 문자 수는 서로 다르다.

b@forta.com  
ben@forta.com  
bfort@forta.com  

__하나 이상의 문자 찾기__

문자나 집합에 속한 요소를 하나 이상 찾으려면 간단리 문자 뒤에 더하기(+) 문자를 붙이면 된다. 더하기(+) 문자는 문자가 하나 이상일때 일치한다(최소한 하나와 일치하고, 없을 때는 일치하지 않는다). a가 a를 찾는 데 반해, a+는 하나 이상 연속된 a를 찾는다. 비슷하게 [0-9]는 자릿수가 하나인 숫자를 찾는 데 반해, [0-9]+는 한자리 이상 연속된 숫자를 찾는다.

이번에는 더하기(+)를 사용해 하나 이상의 문자와 일치시키자.

> 예문

Send personal email to ben@forta.com For questions  
about a book use support@forta.com Feel free to send
....

> Regex

\\w+@\\w+\\.\\w+

> 결과

Send personal email to __ben@forta.com__ For questions  
about a book use __support@forta.com__ Feel free to send
....





## 6장 위치 찾기
## 7장 하위 표현식 사용하기
## 8장 역참조 사용하기
## 9장 전방탐색과 후방탐색
## 19장 조건 달기
## 11장 정규 표현식으로 해결하는 일반적인 문제들
## 부록 많이 쓰는 애플리케이션과 언어에서 활용하는 정규 표현식
